(this["webpackJsonpcontentful-app-brightcove"]=this["webpackJsonpcontentful-app-brightcove"]||[]).push([[0],{22:function(e,t,n){},25:function(e,t){},26:function(e,t,n){"use strict";n.r(t);var c,o,r,i=n(0),a=n(3),s=n(10),l=(n(19),n(20),n(21),n(22),n(9)),d=n.n(l),u=n(11),j=n(7),b=n(4),p=n(2),O=n(5),h=n(1),x=Object(O.a)(c||(c=Object(b.a)(["\ndisplay: block;\nposition: absolute;\nz-index: -1;\ntop: 0px;\nwidth: 100%;\nheight: 300px;\nbackground-color: rgb(14, 19, 134);\n"]))),f=Object(O.a)(o||(o=Object(b.a)(["\nheight: auto;\nmin-height: 65vh;\nmargin: 2rem auto 0px;\npadding: 2rem 3rem;\nmax-width: 768px;\nbackground-color: rgb(255, 255, 255);\nz-index: 2;\nbox-shadow: rgb(0 0 0 / 10%) 0px 0px 20px;\nborder-radius: 2px;\n"]))),m=Object(O.a)(r||(r=Object(b.a)(["\nwidth: 100%;\ndisplay: flex;\n-webkit-box-pack: center;\njustify-content: center;\nmargin-top: 2rem;\nmargin-bottom: 2rem;\n"])));function g(e){var t=e.sdk,n=Object(i.useState)(""),c=Object(j.a)(n,2),o=c[0],r=c[1],a=Object(i.useState)(""),s=Object(j.a)(a,2),l=s[0],b=s[1],O=Object(i.useState)(""),g=Object(j.a)(O,2),v=g[0],y=g[1];return Object(i.useEffect)((function(){t.app.onConfigure((function(){return""===o?(t.notifier.error('The field "Proxy URL" is required.'),!1):l?{parameters:{proxyUrl:o,accountId:l,playerId:v}}:(t.notifier.error('The field "Brightcove Account Id" is required.'),!1)}))}),[t,o,l,v]),Object(i.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.app.getParameters();case 2:(n=e.sent)&&(r(n.proxyUrl),b(n.accountId),y(n.playerId)),t.app.setReady();case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:x}),Object(h.jsx)("div",{className:f,children:Object(h.jsxs)(p.f,{children:[Object(h.jsx)(p.h,{children:"About Brightcove"}),Object(h.jsx)(p.l,{children:"The Brightcove app is a widget that allows editors to select video from their Brightcove account. Select or upload a file on Brightcove and designate the assets that you want your entry to reference."}),Object(h.jsx)("hr",{}),Object(h.jsx)(p.h,{children:"Configuration"}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.g,{htmlFor:"proxyUrl",required:!0,children:"Proxy URL"}),Object(h.jsx)(p.n,{required:!0,type:"text","data-testid":"proxyUrl",id:"proxyUrl",name:"proxyUrl",className:"f36-margin-bottom--m",onChange:function(e){return r(e.currentTarget.value)},value:o})]}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.g,{htmlFor:"accountId",required:!0,children:"Brightcove Account Id"}),Object(h.jsx)(p.n,{required:!0,type:"text","data-testid":"accountId",id:"accountId",name:"accountId",className:"f36-margin-bottom--m",onChange:function(e){return b(e.currentTarget.value)},value:l})]}),Object(h.jsxs)(p.d,{children:[Object(h.jsx)(p.g,{htmlFor:"playerId",children:"Brightcove Player Id"}),Object(h.jsx)(p.n,{type:"text","data-testid":"playerId",id:"playerId",name:"playerId",className:"f36-margin-bottom--m",onChange:function(e){return y(e.currentTarget.value)},value:v})]})]})}),Object(h.jsx)("div",{className:m,children:Object(h.jsxs)("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[Object(h.jsx)("defs",{children:Object(h.jsx)("polygon",{id:"path-1",points:"3.2e-05 4.54747351e-15 31.99952 4.54747351e-15 31.99952 31.99952 3.2e-05 31.99952"})}),Object(h.jsx)("g",{id:"Blue-Steel",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(h.jsxs)("g",{id:"!MOLECULE-/-MonogramSquare",children:[Object(h.jsx)("rect",{fill:"#0E1386",x:"0",y:"0",width:"60",height:"60"}),Object(h.jsx)("rect",{id:"Logo-BG",fill:"#08088C",x:"0",y:"0",width:"60",height:"60"}),Object(h.jsxs)("g",{id:"Group-3",transform:"translate(14.000000, 14.000000)",children:[Object(h.jsx)("mask",{id:"mask-2",fill:"white",children:Object(h.jsx)("use",{xlinkHref:"#path-1"})}),Object(h.jsx)("g",{id:"Clip-2"}),Object(h.jsx)("path",{d:"M12.351872,22.55968 L12.351872,18.14368 L17.215712,18.14368 C19.071712,18.14368 19.647712,18.62368 19.647712,20.15968 L19.647712,20.54368 C19.647712,22.07968 19.071712,22.55968 17.215712,22.55968 L12.351872,22.55968 Z M12.351872,9.43984 L17.215712,9.43984 C19.071712,9.43984 19.647712,9.91984 19.647712,11.45584 L19.647712,11.61584 C19.647712,13.15184 19.071712,13.63184 17.215712,13.63184 L12.351872,13.63184 L12.351872,9.43984 Z M26.239552,7.26384 L30.559552,11.58384 C31.455392,12.47984 31.935392,13.75984 31.935392,15.42368 L31.935392,15.93584 C31.935392,18.33584 31.199552,19.42368 28.863552,19.83968 L28.863552,20.12768 L30.911552,22.17568 C31.743552,23.00768 31.999552,24.03168 31.999552,25.37568 L31.999552,26.43152 C31.999552,30.27152 29.439552,31.99952 25.055552,31.99952 L10.239872,31.99952 L5.311872,27.07152 L20.127712,27.07152 C24.511552,27.07152 27.071552,25.34352 27.071552,21.50368 L27.071552,20.44768 C27.071552,17.47168 25.727712,16.15984 21.855552,16.03168 L21.855552,15.42368 C25.727712,15.29584 27.007712,13.98368 27.007712,11.00784 L27.007712,10.496 C27.007712,9.27984 26.751552,8.22384 26.175552,7.328 L26.239552,7.26384 Z M24.895552,6.048 C23.615552,5.248 21.983552,4.928 20.063712,4.928 L4.928032,4.928 L4.928032,26.68768 L3.2e-05,21.75968 L3.2e-05,4.54747351e-15 L15.135712,4.54747351e-15 C17.631712,4.54747351e-15 19.391712,0.416 20.831712,1.856 L24.959712,5.98384 L24.895552,6.048 Z",id:"Fill-1",fill:"#00EAE4",mask:"url(#mask-2)"})]})]})})]})})]})}var v,y,C,w,L,I,k=function(e){return Object(h.jsx)(p.l,{children:"Hello Entry Editor Component"})},E=function(e){return Object(h.jsx)(p.l,{children:"Hello Page Component"})},T=function(e){return Object(h.jsx)(p.l,{children:"Hello Sidebar Component"})},A=n(14),N=function(e){var t=e.videoId,n=e.accountId,c=e.playerId;return Object(h.jsx)(A.a,{accountId:n,playerId:c,videoId:t})},B=function(e){var t=e.sdk,n=t.parameters.installation,c=n.accountId,o=n.playerId,r=Object(i.useState)(),a=Object(j.a)(r,2),s=a[0],l=a[1];return Object(i.useEffect)((function(){t.window.startAutoResizer(),t.field.onValueChanged(l)}),[]),Object(h.jsxs)(p.e,{marginTop:"spacingXs",margin:"spacingXs",flexDirection:"column",children:[s&&Object(h.jsx)(N,{accountId:c,playerId:o,videoId:s}),Object(h.jsxs)(p.e,{marginTop:"spacingXs",alignItems:"center",children:[Object(h.jsx)(p.a,{"data-testid":"choose-video",buttonType:"muted",onClick:function(){t.dialogs.openCurrent({title:"Choose a video"}).then((function(e){e&&t.field.setValue(e.id)}))},children:"Choose Video"}),t.field.getValue()&&Object(h.jsx)(p.a,{"data-testid":"clean",buttonType:"muted",onClick:function(){t.field.removeValue()},style:{marginLeft:"5px"},children:"Clean"})]})]})},R=function(e){var t=e.num;return Object(h.jsx)(p.b,{children:Array.from(Array(t).keys()).map((function(e){return Object(h.jsx)(p.c,{title:"",isLoading:!0},e)}))})},S=function(e){var t=e.sdk,n=t.parameters.installation.proxyUrl,c=Object(i.useState)([]),o=Object(j.a)(c,2),r=o[0],a=o[1],s=Object(i.useState)([]),l=Object(j.a)(s,2),x=l[0],f=l[1],m=Object(i.useState)(null),g=Object(j.a)(m,2),k=g[0],E=g[1];return Object(i.useEffect)((function(){return t.window.startAutoResizer(),function(){t.window.stopAutoResizer()}}),[]),Object(i.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/folders")).then((function(e){return e.json()}));case 2:t=e.sent,f(t);case 4:case"end":return e.stop()}}),e)})))()}),[n]),Object(i.useEffect)((function(){Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=7;break}return e.next=3,fetch("".concat(n,"/folders/").concat(k.id,"/videos")).then((function(e){return e.json()}));case 3:t=e.sent,a(t),e.next=8;break;case 7:a([]);case 8:case"end":return e.stop()}}),e)})))()}),[n,k]),0===x.length?Object(h.jsx)(p.j,{"data-testid":"modal-spinner",children:Object(h.jsx)(p.m,{className:Object(O.a)(v||(v=Object(b.a)(["margin: 4px auto; display: block;"])))})}):null===k?Object(h.jsxs)(p.j,{"data-testid":"modal-folders",children:[Object(h.jsxs)("div",{className:Object(O.a)(y||(y=Object(b.a)(["margin-bottom: 1rem;"]))),children:[Object(h.jsx)(p.i,{icon:"Folder",className:Object(O.a)(C||(C=Object(b.a)(["vertical-align: text-bottom;"])))})," Select a Folder:"]}),Object(h.jsx)(p.b,{"data-testid":"folder-list",children:x.map((function(e){return Object(h.jsx)(p.c,{"data-testid":"".concat(e.id,"-").concat(e.name),className:Object(O.a)(w||(w=Object(b.a)(["cursor: pointer;"]))),title:e.name,contentType:e.id,withThumbnail:!1,onClick:function(){return E(e)}},e.id)}))})]}):Object(h.jsxs)(p.j,{"data-testid":"modal-videos",children:[Object(h.jsx)(p.a,{"data-testid":"back-to-folders",className:Object(O.a)(L||(L=Object(b.a)(["margin-bottom: 20px;"]))),buttonType:"muted",onClick:function(){return E(null)},children:"Back"}),0===r.length&&Object(h.jsx)(R,{num:k.video_count}),r.length>0&&Object(h.jsx)(p.b,{children:r.map((function(e){var n;return Object(h.jsx)(p.c,{"data-testid":"".concat(e.id,"-").concat(e.name),className:Object(O.a)(I||(I=Object(b.a)(["cursor: pointer;"]))),title:e.name,description:e.description,thumbnailUrl:null===(n=e.images.thumbnail)||void 0===n?void 0:n.src,onClick:function(){return t.close(e)}},e.id)}))})]})},U=function(){return Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"40px"},children:Object(h.jsx)(p.k,{title:"App running outside of Contentful",style:{maxWidth:"800px"},children:Object(h.jsxs)(p.l,{children:["Contentful Apps need to run inside the Contentful web app to function properly. Install the application following the instructions in the"," ",Object(h.jsx)(p.o,{href:"https://github.com/GuccioGucci/contentful-app-brightcove#readme",children:"README.md"}),"."]})})})};if(window.self===window.top){var _=document.getElementById("root");Object(a.render)(Object(h.jsx)(U,{}),_)}else Object(s.init)((function(e){var t=document.getElementById("root");[{location:s.locations.LOCATION_APP_CONFIG,component:Object(h.jsx)(g,{sdk:e})},{location:s.locations.LOCATION_ENTRY_FIELD,component:Object(h.jsx)(B,{sdk:e})},{location:s.locations.LOCATION_ENTRY_EDITOR,component:Object(h.jsx)(k,{sdk:e})},{location:s.locations.LOCATION_DIALOG,component:Object(h.jsx)(S,{sdk:e})},{location:s.locations.LOCATION_ENTRY_SIDEBAR,component:Object(h.jsx)(T,{sdk:e})},{location:s.locations.LOCATION_PAGE,component:Object(h.jsx)(E,{sdk:e})}].forEach((function(n){e.location.is(n.location)&&Object(a.render)(n.component,t)}))}))}},[[26,1,2]]]);